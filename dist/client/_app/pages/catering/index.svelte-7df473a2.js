import{S as se,i as ue,s as oe,e as x,k as N,c as E,a as D,m as O,d as f,b as u,a2 as Y,g as B,F as d,a3 as H,a4 as z,a5 as ne,a6 as le,a7 as re,M as de,O as Z,a8 as me,t as $,a9 as ce,h as ee,aa as pe,p as fe,q as qe,o as he,ab as be,ac as ie,n as _e,ad as ve,H as ge}from"../../chunks/vendor-70cf62c1.js";function L(r,{pending:i,error:e,result:t}){let q;async function w(h){const c=q={};h.preventDefault();const k=new FormData(r);i&&i(k,r);try{const n=await fetch(r.action,{method:r.method,headers:{accept:"application/json"},body:k});if(c!==q)return;n.ok?t(n,r):e?e(n,null,r):console.error(await n.text())}catch(n){if(e)e(null,n,r);else throw n}}return r.addEventListener("submit",w),{destroy(){r.removeEventListener("submit",w)}}}function te(r,i,e){const t=r.slice();return t[6]=i[e],t[7]=i,t[8]=e,t}function ae(r,i){let e,t,q,w,h,c,k,n,s,_,p,b,T,V,y,S,I,v,R,a,o,l,P,M,Q,A=ge,g,C,G;function J(...j){return i[3](i[6],i[7],i[8],...j)}function K(){return i[4](i[6],i[7],i[8])}function W(){return i[5](i[6])}return{key:r,first:null,c(){e=x("div"),t=x("form"),q=x("input"),h=N(),c=x("button"),_=N(),p=x("form"),b=x("input"),V=N(),y=x("button"),I=N(),v=x("form"),R=x("button"),P=N(),this.h()},l(j){e=E(j,"DIV",{class:!0});var m=D(e);t=E(m,"FORM",{action:!0,method:!0});var F=D(t);q=E(F,"INPUT",{type:!0,name:!0,class:!0}),h=O(F),c=E(F,"BUTTON",{class:!0,"aria-label":!0}),D(c).forEach(f),F.forEach(f),_=O(m),p=E(m,"FORM",{class:!0,action:!0,method:!0});var U=D(p);b=E(U,"INPUT",{"aria-label":!0,type:!0,name:!0,class:!0}),V=O(U),y=E(U,"BUTTON",{class:!0,"aria-label":!0}),D(y).forEach(f),U.forEach(f),I=O(m),v=E(m,"FORM",{action:!0,method:!0});var X=D(v);R=E(X,"BUTTON",{class:!0,"aria-label":!0}),D(R).forEach(f),X.forEach(f),P=O(m),m.forEach(f),this.h()},h(){u(q,"type","hidden"),u(q,"name","done"),q.value=w=i[6].done?"":"true",u(q,"class","svelte-dmxqmd"),u(c,"class","toggle svelte-dmxqmd"),u(c,"aria-label",k="Mark todo as "+(i[6].done?"not done":"done")),u(t,"action",n="/catering/"+i[6].uid+".json?_method=patch"),u(t,"method","post"),u(b,"aria-label","Edit todo"),u(b,"type","text"),u(b,"name","text"),b.value=T=i[6].text,u(b,"class","svelte-dmxqmd"),u(y,"class","save svelte-dmxqmd"),u(y,"aria-label","Save todo"),u(p,"class","text svelte-dmxqmd"),u(p,"action",S="/catering/"+i[6].uid+".json?_method=patch"),u(p,"method","post"),u(R,"class","delete svelte-dmxqmd"),u(R,"aria-label","Delete todo"),R.disabled=a=i[6].pending_delete,u(v,"action",o="/catering/"+i[6].uid+".json?_method=delete"),u(v,"method","post"),u(e,"class","todo svelte-dmxqmd"),Y(e,"done",i[6].done),this.first=e},m(j,m){B(j,e,m),d(e,t),d(t,q),d(t,h),d(t,c),d(e,_),d(e,p),d(p,b),d(p,V),d(p,y),d(e,I),d(e,v),d(v,R),d(e,P),g=!0,C||(G=[H(s=L.call(null,t,{pending:J,result:i[1]})),H(L.call(null,p,{result:i[1]})),H(l=L.call(null,v,{pending:K,result:W}))],C=!0)},p(j,m){i=j,(!g||m&1&&w!==(w=i[6].done?"":"true"))&&(q.value=w),(!g||m&1&&k!==(k="Mark todo as "+(i[6].done?"not done":"done")))&&u(c,"aria-label",k),(!g||m&1&&n!==(n="/catering/"+i[6].uid+".json?_method=patch"))&&u(t,"action",n),s&&z(s.update)&&m&1&&s.update.call(null,{pending:J,result:i[1]}),(!g||m&1&&T!==(T=i[6].text)&&b.value!==T)&&(b.value=T),(!g||m&1&&S!==(S="/catering/"+i[6].uid+".json?_method=patch"))&&u(p,"action",S),(!g||m&1&&a!==(a=i[6].pending_delete))&&(R.disabled=a),(!g||m&1&&o!==(o="/catering/"+i[6].uid+".json?_method=delete"))&&u(v,"action",o),l&&z(l.update)&&m&1&&l.update.call(null,{pending:K,result:W}),m&1&&Y(e,"done",i[6].done)},r(){Q=e.getBoundingClientRect()},f(){ne(e),A(),le(e,Q)},a(){A(),A=re(e,Q,be,{duration:200})},i(j){g||(j&&de(()=>{M||(M=Z(e,ie,{start:.7},!0)),M.run(1)}),g=!0)},o(j){j&&(M||(M=Z(e,ie,{start:.7},!1)),M.run(0)),g=!1},d(j){j&&f(e),j&&M&&M.end(),C=!1,me(G)}}}function xe(r){let i,e,t,q,w,h,c,k,n,s=[],_=new Map,p,b,T,V,y,S,I,v=r[0];const R=a=>a[6].uid;for(let a=0;a<v.length;a+=1){let o=te(r,v,a),l=R(o);_.set(l,s[a]=ae(l,o))}return{c(){i=N(),e=x("div"),t=x("h1"),q=$("Todos"),w=N(),h=x("form"),c=x("input"),n=N();for(let a=0;a<s.length;a+=1)s[a].c();p=N(),b=x("div"),T=x("p"),V=$("Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis maiores ducimus voluptates laudantium, sapiente vitae sequi, ex officiis nulla cumque fugit accusantium sunt, non dignissimos aspernatur? Repudiandae assumenda, possimus rerum provident veritatis impedit facere architecto asperiores aut debitis consequatur eaque quae id corrupti saepe facilis. Voluptate dolores repellendus obcaecati modi consectetur fugiat, quod asperiores dicta sint suscipit velit nihil commodi assumenda blanditiis illo magni adipisci debitis facere. Voluptatibus accusamus tempore magni quae? Assumenda omnis, harum quaerat doloremque quisquam maiores a quidem modi dicta. Sunt mollitia nesciunt consectetur quas animi ipsa autem quisquam vitae. Quis debitis unde odio. Sit laboriosam debitis ad reiciendis autem repellat distinctio possimus excepturi aut quia perferendis sunt soluta in ab, nostrum at minus sint enim eaque expedita sed. Veniam asperiores quis odio cumque nobis beatae. Quibusdam sit veritatis cum ea sed dolorum delectus qui eligendi impedit quisquam rem esse dicta fugit sapiente facere repellat, repellendus reiciendis eius perspiciatis omnis minima fugiat! Natus expedita doloribus nihil, qui neque molestias iure velit aut accusamus repellat ea dignissimos mollitia minus explicabo maxime cupiditate veritatis dolores quia consequatur consectetur! Dicta expedita iure excepturi, rem at, eos eius voluptatem, minima consequatur inventore culpa. Deleniti rem eaque facilis, hic necessitatibus consequuntur animi odit pariatur vero laborum excepturi ea dolore quod explicabo tempora repellendus blanditiis quae, enim ad repudiandae optio voluptas. Maxime animi tempora ratione reiciendis voluptate nam maiores quia, eos similique consectetur dolores qui laudantium ut delectus possimus sequi quisquam quaerat doloribus nulla facilis dicta esse, minus temporibus officia. Sapiente a optio corrupti totam odio officia ex maxime doloribus? Amet possimus laborum at expedita. Ea quod aliquam modi nihil temporibus impedit tenetur aspernatur excepturi! Autem nemo voluptatibus nihil rerum accusantium eligendi inventore. Illum dolores harum, nulla quia optio praesentium nobis provident ipsa culpa ad sit doloremque error labore, aliquid sunt impedit ratione facilis tempore et exercitationem ab beatae, dolor voluptatum? Eveniet, id eius? Possimus distinctio, iure magnam minima nemo dolorum, saepe reiciendis autem totam eaque ab cupiditate. Dolores molestiae quae enim quam atque laborum culpa ex explicabo nam placeat, tenetur ducimus dignissimos saepe voluptatum quo molestias sint. Repellendus unde soluta dolorem, nemo beatae nisi? Nemo accusantium animi a autem, soluta nihil debitis quaerat molestiae incidunt veniam corrupti, ad hic dolorum neque. Quis nesciunt consequuntur soluta? Reprehenderit animi rerum ipsa ad sequi exercitationem cum, ducimus mollitia dignissimos accusantium doloremque. Placeat maiores, quod officiis dolorem architecto saepe eligendi vel! Quidem iure incidunt necessitatibus perferendis reiciendis. Hic sed ab distinctio quae error, iure officiis veritatis cum accusamus et autem, ipsum sapiente eos. Odio, autem quis."),this.h()},l(a){ce('[data-svelte="svelte-181o7gf"]',document.head).forEach(f),i=O(a),e=E(a,"DIV",{class:!0});var l=D(e);t=E(l,"H1",{});var P=D(t);q=ee(P,"Todos"),P.forEach(f),w=O(l),h=E(l,"FORM",{class:!0,action:!0,method:!0});var M=D(h);c=E(M,"INPUT",{name:!0,"aria-label":!0,placeholder:!0,class:!0}),M.forEach(f),n=O(l);for(let g=0;g<s.length;g+=1)s[g].l(l);l.forEach(f),p=O(a),b=E(a,"DIV",{});var Q=D(b);T=E(Q,"P",{});var A=D(T);V=ee(A,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis maiores ducimus voluptates laudantium, sapiente vitae sequi, ex officiis nulla cumque fugit accusantium sunt, non dignissimos aspernatur? Repudiandae assumenda, possimus rerum provident veritatis impedit facere architecto asperiores aut debitis consequatur eaque quae id corrupti saepe facilis. Voluptate dolores repellendus obcaecati modi consectetur fugiat, quod asperiores dicta sint suscipit velit nihil commodi assumenda blanditiis illo magni adipisci debitis facere. Voluptatibus accusamus tempore magni quae? Assumenda omnis, harum quaerat doloremque quisquam maiores a quidem modi dicta. Sunt mollitia nesciunt consectetur quas animi ipsa autem quisquam vitae. Quis debitis unde odio. Sit laboriosam debitis ad reiciendis autem repellat distinctio possimus excepturi aut quia perferendis sunt soluta in ab, nostrum at minus sint enim eaque expedita sed. Veniam asperiores quis odio cumque nobis beatae. Quibusdam sit veritatis cum ea sed dolorum delectus qui eligendi impedit quisquam rem esse dicta fugit sapiente facere repellat, repellendus reiciendis eius perspiciatis omnis minima fugiat! Natus expedita doloribus nihil, qui neque molestias iure velit aut accusamus repellat ea dignissimos mollitia minus explicabo maxime cupiditate veritatis dolores quia consequatur consectetur! Dicta expedita iure excepturi, rem at, eos eius voluptatem, minima consequatur inventore culpa. Deleniti rem eaque facilis, hic necessitatibus consequuntur animi odit pariatur vero laborum excepturi ea dolore quod explicabo tempora repellendus blanditiis quae, enim ad repudiandae optio voluptas. Maxime animi tempora ratione reiciendis voluptate nam maiores quia, eos similique consectetur dolores qui laudantium ut delectus possimus sequi quisquam quaerat doloribus nulla facilis dicta esse, minus temporibus officia. Sapiente a optio corrupti totam odio officia ex maxime doloribus? Amet possimus laborum at expedita. Ea quod aliquam modi nihil temporibus impedit tenetur aspernatur excepturi! Autem nemo voluptatibus nihil rerum accusantium eligendi inventore. Illum dolores harum, nulla quia optio praesentium nobis provident ipsa culpa ad sit doloremque error labore, aliquid sunt impedit ratione facilis tempore et exercitationem ab beatae, dolor voluptatum? Eveniet, id eius? Possimus distinctio, iure magnam minima nemo dolorum, saepe reiciendis autem totam eaque ab cupiditate. Dolores molestiae quae enim quam atque laborum culpa ex explicabo nam placeat, tenetur ducimus dignissimos saepe voluptatum quo molestias sint. Repellendus unde soluta dolorem, nemo beatae nisi? Nemo accusantium animi a autem, soluta nihil debitis quaerat molestiae incidunt veniam corrupti, ad hic dolorum neque. Quis nesciunt consequuntur soluta? Reprehenderit animi rerum ipsa ad sequi exercitationem cum, ducimus mollitia dignissimos accusantium doloremque. Placeat maiores, quod officiis dolorem architecto saepe eligendi vel! Quidem iure incidunt necessitatibus perferendis reiciendis. Hic sed ab distinctio quae error, iure officiis veritatis cum accusamus et autem, ipsum sapiente eos. Odio, autem quis."),A.forEach(f),Q.forEach(f),this.h()},h(){document.title="Todos",u(c,"name","text"),u(c,"aria-label","Add todo"),u(c,"placeholder","+ tap to add a todo"),u(c,"class","svelte-dmxqmd"),u(h,"class","new svelte-dmxqmd"),u(h,"action","/catering.json"),u(h,"method","post"),u(e,"class","todos svelte-dmxqmd")},m(a,o){B(a,i,o),B(a,e,o),d(e,t),d(t,q),d(e,w),d(e,h),d(h,c),d(e,n);for(let l=0;l<s.length;l+=1)s[l].m(e,null);B(a,p,o),B(a,b,o),d(b,T),d(T,V),y=!0,S||(I=H(k=L.call(null,h,{result:r[2]})),S=!0)},p(a,[o]){if(k&&z(k.update)&&o&1&&k.update.call(null,{result:a[2]}),o&3){v=a[0],_e();for(let l=0;l<s.length;l+=1)s[l].r();s=pe(s,o,R,1,a,v,_,e,ve,ae,null,te);for(let l=0;l<s.length;l+=1)s[l].a();fe()}},i(a){if(!y){for(let o=0;o<v.length;o+=1)qe(s[o]);y=!0}},o(a){for(let o=0;o<s.length;o+=1)he(s[o]);y=!1},d(a){a&&f(i),a&&f(e);for(let o=0;o<s.length;o+=1)s[o].d();a&&f(p),a&&f(b),S=!1,I()}}}const je=async({fetch:r})=>{const i=await r("/catering.json");if(i.ok)return{props:{todos:await i.json()}};const{message:e}=await i.json();return{error:new Error(e)}};function Ee(r,i,e){let{todos:t}=i;async function q(n){const s=await n.json();e(0,t=t.map(_=>_.uid===s.uid?s:_))}const w=async(n,s)=>{const _=await n.json();e(0,t=[...t,_]),s.reset()},h=(n,s,_,p)=>{e(0,s[_].done=!!p.get("done"),t)},c=(n,s,_)=>e(0,s[_].pending_delete=!0,t),k=n=>{e(0,t=t.filter(s=>s.uid!==n.uid))};return r.$$set=n=>{"todos"in n&&e(0,t=n.todos)},[t,q,w,h,c,k]}class we extends se{constructor(i){super();ue(this,i,Ee,xe,oe,{todos:0})}}export{we as default,je as load};
